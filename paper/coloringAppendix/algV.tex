\begin{algorithm}
	\SetKwFunction{GoodPartitionOddH}{\textsc{Good-Partition-From-Odd-Hyperprism}}
	\Indm\nonl\GoodPartitionOddH{$G, H, M$}\\
	\KwData{$G$ -- square-free, Berge graph containing no \LGBSK \newline
		$H = (A_1, \ldots, B_3)$  -- maximal odd hyperprism in $G$ \newline
	$M$ -- set of major neighbors of $H$}
	\KwResult{A good partition of $G$}
	\Indp	
			  
	$Z \gets \bigcup\{V(C)$ : $C$ is a component of $G \setminus \{V(H) \cup M \}$ with no attachments in $H \}$  \;
			  
	relabel strips of $H$, so that $A_1 \setAntiComplete B_1$ and $A_2 \setAntiComplete B_2$\;
	\Assert{$C_1 \neq \emptyset, C_2 \neq \emptyset$}
			
	$\forall_{i \in [3]} F_i \gets \bigcup\{ V(C)$ : $C$ is a component of $G \setminus \{H \cup M \cup Z \}$ that
	attaches to $A_i \cup B_i \cup C_i$  $\}$ \;
	% $F_A \gets \bigcup \{ V(C) $ : $C$ is a component of $G \setminus \{ H \cup M \cup Z \cup F_1 \cup F_2 \cup F_3 \}$
	% that attaches to $A_1 \cup A_2 \cup A_3$  $\}$ \;
			
	$F_B \gets \bigcup \{ V(C) $ : $C$ is a component of $G \setminus \{ H \cup M \cup Z \cup F_1 \cup F_2 \cup F_3 \}$
	that attaches to $B_1 \cup B_2 \cup B_3$  $\}$ \;
			  
	% \TODO{$F_i, F_A, F_B$ are from algIV, make sure it is correct}
			  
	\Assert{At least two of $A_i$ and at least two of $B_i$ are cliques}
	\Assert{$M$ is complete to at least two of $A_i$ and at least two of $B_i$}
	\Assert{$M$ is a clique}
	\Assert{For at least two $i$ : $A_i \cup M$ is a clique}
	\Assert{For at least two $j$ : $A_j \cup M$ is a clique}
			
	% pick any $x_1 :\in C_1, x_2 :\in C_2, a_3 :\in A_3$, so that $\tau \gets \{x_1, x_2, a_3\}$ is a triad \;
			
	choose $h$, so that $M \cup A_h$ and $M \cup B_h$ are cliques\;
			
	\If{$h = 1 \lor h = 2$}{
		$K_1 \gets A_1$, $K_2 \gets M$, $K_3 \gets B_1$\;
		$R \gets C_1 \cup F_1 \cup Z$\;
		$L \gets G \setminus \{K_1 \cup K_2 \cup K_3 \cup R\}$ \;
		\Return $(K_1, K_2, K_3, L, R)$\;
		} \Else {
		relabel $H$ so that $M \cup A_1$ and $M \cup B_2$ are cliques\;
		$K_1 \gets B_2 \cup B_3$, $K_2 \gets M$, $K_3 \gets A_1 \cup A_3$\;
		$L \gets B_1 \cup C_1 \cup F_1 \cup F_B$\;
		$R \gets G \setminus \{K_1 \cup K_2 \cup K_3 \cup L\}$ \;
		\Return $(K_1, K_2, K_3, L, R)$\;
	}
\end{algorithm}